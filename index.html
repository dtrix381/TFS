<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>𝗧𝗲𝗮𝗺𝗙𝘂𝗹𝗹𝗦𝗲𝗻𝗱𝗦𝗹𝗼𝘁𝘀</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&display=swap');

    body {
      font-family: 'Orbitron', sans-serif;
      background: url('background.jpg') no-repeat center center fixed;
      background-size: cover;
      background-color: black;
      color: white;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      text-shadow: 1px 1px 2px #000;
      height: 100%; 
    }

    @media (max-width: 768px) {
      body {
        background: url('background.jpg') no-repeat;
        background-size: auto 100vh;
        background-color: black;
        background-repeat: repeat-y;
        animation: backgroundLoop 15s linear infinite;
	height: 100%; 
      }

      @keyframes backgroundLoop {
        0% { background-position: 100% center; }
        50% { background-position: 0% center; }
        100% { background-position: 100% center; }
      }
    }



     h1, h2 {
      text-align: center;
      color: gold;
      text-shadow: 2px 2px 4px #000;
    }

html, body {
  height: 100%; /* Full height of the viewport */
  margin: 0; /* Remove default margin */
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* Align content at the top */
}

.container {
  max-width: 900px;
  margin: 30px auto; /* Gives some space from the top */
  padding: 20px;
  background-color: rgba(0, 0, 0, 0.65);
  border: 2px solid gold;
  border-radius: 10px;
  box-shadow: 0 0 15px gold;
}

    input[type="text"], input[type="number"] {
      padding: 10px;
      margin: 5px;
      border-radius: 5px;
      border: 1px solid #aaa;
      font-size: 16px;
      background-color: #222;
      color: #fff;
      width: 160px;
    }

    button {
      padding: 10px 20px;
      margin: 5px;
      background-color: crimson;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s ease;
      box-shadow: 0 0 10px crimson;
    }

    button:hover {
      background-color: gold;
      color: black;
      box-shadow: 0 0 12px gold;
    }

    ul {
      list-style: none;
      padding: 0;
      color: #ccc;
    }

    .bracket {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      margin-top: 20px;
    }

    .match {
      width: 100%;
      border: 2px solid #444;
      border-radius: 10px;
      padding: 15px;
      background-color: rgba(0, 0, 0, 0.7);
      box-shadow: 0 0 10px #000;
      position: relative;
      transition: transform 0.3s;
    }

    .match:hover {
      transform: scale(1.01);
      box-shadow: 0 0 20px gold;
    }

    .bracket-code {
      position: absolute;
      left: -45px;
      top: 15px;
      font-weight: bold;
      color: crimson;
      font-size: 20px;
    }

    .winner {
      margin-top: 10px;
      font-weight: bold;
      color: lime;
      font-size: 18px;
      text-shadow: 0 0 5px lime;
    }

    .hidden {
      display: none;
    }

    .player-section {
      margin: 10px 0;
      padding: 8px;
      border-bottom: 1px solid #555;
    }

    .totalX {
      margin-left: 10px;
      color: gold;
      font-weight: bold;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      input[type="text"], input[type="number"] {
        width: 100%;
      }

      .match {
        padding: 10px;
      }

/* Slot name style */
.slot-name {
  color: #1f35d7; /* electric cyan */
  font-weight: bold;
  text-shadow: 0 0 5px #00ffff, 0 0 10px #00ffff;
}

/* Buy Amount style */
.buy-amount {
  color: #ff6f61; /* coral red */
  font-weight: bold;
  text-shadow: 0 0 5px #ff6f61, 0 0 10px #ff6f61;
}

/* Total Pay style (same color as Buy Amount) */
.total-pay {
  color: #ff6f61; /* coral red */
  font-weight: bold;
  text-shadow: 0 0 5px #ff6f61, 0 0 10px #ff6f61;
}

/* Total X style */
.total-x {
  color: #ffd700; /* rich gold */
  font-weight: bold;
  text-shadow: 0 0 5px #ffd700, 0 0 10px #ffcc00;
  animation: glowX 1.5s ease-in-out infinite alternate;
}

@keyframes glowX {
  from {
    text-shadow: 0 0 5px #ffd700, 0 0 10px #ffcc00;
  }
  to {
    text-shadow: 0 0 10px #ffd700, 0 0 20px #ffcc00;
  }
}

/* Adjust input field for Slot Name to reflect font color changes */
input[type="text"]#slot {
  color: #00ffff; /* electric cyan */
  font-weight: bold;
  text-shadow: 0 0 5px #00ffff, 0 0 10px #00ffff;
}

  </style>
</head>
<body>
  <div class="container">
    <h1>🎰 𝗧𝗲𝗮𝗺𝗙𝘂𝗹𝗹𝗦𝗲𝗻𝗱𝗦𝗹𝗼𝘁𝘀 𝗧𝗼𝘂𝗿𝗻𝗮𝗺𝗲𝗻𝘁 🎲</h1>
    <div style="text-align:center; margin-bottom: 15px;">
      <input type="text" id="kickUsername" placeholder="Kick Username" />
      <input type="text" id="slot" placeholder="Slot" />
      <button onclick="addPlayer()">Add Player</button>
    </div>
    <h2>🎮 Players Pool</h2>
    <ul id="playersList"></ul>
    <div style="text-align:center;">
      <button onclick="startTournament()">Start Tournament</button>
    </div>
    <div id="bracketContainer"></div>
    <h2 id="champion" class="hidden">🏆 Champion: <span id="championName"></span></h2>
  </div>

  <script>
    let players = [];
    let rounds = [];

    function addPlayer() {
      const kickUsername = document.getElementById("kickUsername").value.trim();
      const slot = document.getElementById("slot").value.trim();
      const playersList = document.getElementById("playersList");

      if (!kickUsername || !slot) return alert("Please fill in both Kick Username and Slot.");

      if (players.length >= 8) {
        alert("You can only add 8 players.");
        return;
      }

      players.push({ kickUsername, slot });
      const li = document.createElement("li");
      li.textContent = `${kickUsername} (${slot})`;
      playersList.appendChild(li);

      document.getElementById("kickUsername").value = "";
      document.getElementById("slot").value = "";
    }

    function startTournament() {
      if (players.length !== 8) {
        alert("Exactly 8 players are required to start the tournament.");
        return;
      }

      shuffle(players);
      rounds = [];

      rounds[0] = [
        [players[0], players[7]], // 1A
        [players[3], players[4]], // 1B
        [players[2], players[5]], // 1C
        [players[1], players[6]], // 1D
      ];

      generateBracket();
    }

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function generateBracket() {
      const bracketContainer = document.getElementById("bracketContainer");
      bracketContainer.innerHTML = "";

      rounds.forEach((round, roundIndex) => {
        const roundDiv = document.createElement("div");
        roundDiv.classList.add("bracket");
        roundDiv.innerHTML = `<h2>Round ${roundIndex + 1}</h2>`;
        bracketContainer.appendChild(roundDiv);

        round.forEach((match, matchIndex) => {
          let code = `${roundIndex + 1}${String.fromCharCode(65 + matchIndex)}`;
          let player1 = match[0] || { kickUsername: "TBD", slot: "" };
          let player2 = match[1] || { kickUsername: "TBD", slot: "" };

          const matchDiv = document.createElement("div");
          matchDiv.className = "match";

          const storedData = match[2];
          if (storedData && storedData.winner) {
            matchDiv.innerHTML = `
              <span class="bracket-code">${code}</span>
              <div>
                <strong>${player1.kickUsername}</strong> (${player1.slot})<br>
                Buy Amount = $${storedData.p1.buyAmount} |
                Total Pay = $${storedData.p1.totalPay} |
                Total X: ${storedData.p1.totalX}x
              </div>
              <div>
                <strong>${player2.kickUsername}</strong> (${player2.slot})<br>
                Buy Amount = $${storedData.p2.buyAmount} |
                Total Pay = $${storedData.p2.totalPay} |
                Total X: ${storedData.p2.totalX}x
              </div>
              <div class="winner">Winner: ${storedData.winner.kickUsername}</div>
            `;
          } else {
            matchDiv.innerHTML = `
              <span class="bracket-code">${code}</span>
              <div>
                <strong>${player1.kickUsername}</strong> (${player1.slot})
                <input type="number" class="buyAmount" placeholder="Buy Amount">
                <input type="number" class="totalPay" placeholder="Total Pay">
                <span class="totalX">Total X: 0</span>
              </div>
              <div>
                <strong>${player2.kickUsername}</strong> (${player2.slot})
                <input type="number" class="buyAmount" placeholder="Buy Amount">
                <input type="number" class="totalPay" placeholder="Total Pay">
                <span class="totalX">Total X: 0</span>
              </div>
              <button onclick="generateWinner(this, ${roundIndex}, ${matchIndex}, '${code}')">Generate Winner</button>
            `;
          }

          roundDiv.appendChild(matchDiv);
        });
      });

      addLiveTotalXListeners();
    }

    function addLiveTotalXListeners() {
      document.querySelectorAll(".match").forEach(matchDiv => {
        const playerDivs = matchDiv.querySelectorAll("div");

        playerDivs.forEach(playerDiv => {
          const buyInput = playerDiv.querySelector(".buyAmount");
          const payInput = playerDiv.querySelector(".totalPay");
          const totalXSpan = playerDiv.querySelector(".totalX");

          if (buyInput && payInput && totalXSpan) {
            const updateTotalX = () => {
              const buy = parseFloat(buyInput.value);
              const pay = parseFloat(payInput.value);
              if (!isNaN(buy) && !isNaN(pay) && buy > 0) {
                const totalX = (pay / buy).toFixed(2);
                totalXSpan.textContent = `Total X: ${totalX}x`;
              } else {
                totalXSpan.textContent = "Total X: 0";
              }
            };

            buyInput.addEventListener("input", updateTotalX);
            payInput.addEventListener("input", updateTotalX);
          }
        });
      });
    }

    function generateWinner(button, roundIndex, matchIndex, code) {
      const matchDiv = button.parentElement;
      const playersDivs = matchDiv.querySelectorAll("div");
      let totalXs = [];
      let winner = null;
      let highestX = -1;
      let inputs = [];

      playersDivs.forEach(playerDiv => {
        const buyAmount = parseFloat(playerDiv.querySelector(".buyAmount")?.value || 0);
        const totalPay = parseFloat(playerDiv.querySelector(".totalPay")?.value || 0);
        const totalX = (buyAmount > 0 && totalPay > 0) ? (totalPay / buyAmount).toFixed(2) : 0;
        const name = playerDiv.querySelector("strong")?.innerText || "TBD";
        const slot = playerDiv.innerHTML.match(/\((.*?)\)/)?.[1] || "";

        totalXs.push(parseFloat(totalX));
        inputs.push({ buyAmount, totalPay, totalX });

        if (parseFloat(totalX) > highestX) {
          highestX = totalX;
          winner = { kickUsername: name, slot };
        }
      });

      const match = rounds[roundIndex][matchIndex];
      match[2] = {
        winner,
        p1: inputs[0],
        p2: inputs[1]
      };

      if (roundIndex < 2) {
        rounds[roundIndex + 1] = rounds[roundIndex + 1] || [];
        let nextRound = rounds[roundIndex + 1];
        if (nextRound.length > 0 && nextRound[nextRound.length - 1].length === 1) {
          nextRound[nextRound.length - 1].push(winner);
        } else {
          nextRound.push([winner]);
        }
      } else if (code === "3A") {
        document.getElementById("champion").classList.remove("hidden");
        document.getElementById("championName").textContent = winner.kickUsername;
      }

      generateBracket();
    }
  </script>
</body>

<style>
footer {
  width: 100%;
  text-align: center;
  margin-top: 30px;
  padding: 1px 0;
  background: rgba(34, 34, 34, 0.9);
  color: #fff;
  font-size: 14px !important;
  border-top: 1px solid #00AEEF;
  white-space: nowrap;
  height: auto;
  position: relative;
  bottom: 0;
  left: 0;
  width: 100vw; /* Full viewport width */
  min-width: 100%; /* Ensure no gaps */
  margin-top: auto; /* Pushes footer to the bottom */
}


 footer a {
    	color: #00AEEF;
    	text-decoration: none;
    }

 footer a:hover {
    	text-decoration: underline;
    }

 footer p {
    	margin: 0 5px; /* Adds a small space between elements */
    	margin-left: 0;
    }
</style>

<footer>
	<p>&copy; 2025 𝐓𝐞𝐚𝐦𝐅𝐮𝐥𝐥𝐒𝐞𝐧𝐝𝐒𝐥𝐨𝐭𝐬.𝐜𝐨𝐦‌. All rights reserved.</p>
</footer>

</html>
